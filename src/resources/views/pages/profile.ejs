<div class="container-fluid px-4">
  <div class="card">
      <div class="table-card">
          <!-- Tiêu đề -->
          <div class="table-header d-flex justify-content-between align-items-center">
              <div>
                  <h5 class="fw-bold mb-1">Thông Tin Cá Nhân</h5>
                  <p class="text-secondary mb-0">Xem và cập nhật thông tin cá nhân của bạn</p>
              </div>
          </div>

          <!-- Form thông tin cá nhân -->
          <form action="/admin/profile" method="POST" enctype="multipart/form-data">
              <div class="row g-3 mt-4">
                  <div class="col-md-4 text-center">
                      <img src="/img/<%= user.image %>" alt="Avatar" class="rounded-circle" style="width: 150px; height: 150px; border: 1px solid #ccc;">
                      <div class="mt-2">
                          <input type="file" class="form-control" id="image" name="image" accept="image/*" style="display: none;" onchange="previewImage(event)">
                          <label for="image" class="btn btn-secondary mt-2">
                            <i class="fas fa-camera me-2"></i>Chọn Hình Ảnh
                          </label>
                      </div>
                      <h6 class="mt-2"><%= user.fullname %></h6>
                  </div>
                  <div class="col-md-8">
                      <div class="row g-3">
                          <div class="col-md-6">
                              <label for="fullname" class="form-label">Họ và Tên</label>
                              <input type="text" class="form-control" id="fullname" name="fullname" value="<%= user.fullname %>">
                          </div>
                          <div class="col-md-6">
                              <label for="email" class="form-label">Email</label>
                              <input type="email" class="form-control" id="email" name="email" value="<%= user.email %>">
                          </div>
                          <div class="col-md-6">
                              <label for="phone_number" class="form-label">Số Điện Thoại</label>
                              <input type="tel" class="form-control" id="phone_number" name="phone_number" value="<%= user.phone_number %>">
                          </div>
                          <div class="col-md-6">
                              <label for="address" class="form-label">Địa Chỉ</label>
                              <input type="text" class="form-control" id="address" name="address" value="<%= user.address %>">
                          </div>
                          <div class="col-md-6">
                              <label for="role" class="form-label">Quyền Hạn</label>
                              <input type="text" class="form-control" id="role" value="<%= user.role === 'admin' ? 'Quản Trị Viên' : 'Khách Hàng' %>" readonly>
                          </div>
                          <div class="col-md-6">
                              <label for="status" class="form-label">Trạng Thái</label>
                              <input type="text" class="form-control" id="status" value="<%= user.status === 'active' ? 'Hoạt Động' : 'Đã Khóa' %>" readonly>
                          </div>
                      </div>
                  </div>
              </div>

              <div class="d-flex justify-content-end mt-4">
                  <button type="submit" class="btn btn-primary me-2">
                      <i class="fas fa-save me-2"></i>Cập Nhật
                  </button>
              </div>
          </form>
      </div>
  </div>
</div>

<script>
  function previewImage(event) {
      const image = document.querySelector('img[alt="Avatar"]');
      image.src = URL.createObjectURL(event.target.files[0]);
  }
</script>